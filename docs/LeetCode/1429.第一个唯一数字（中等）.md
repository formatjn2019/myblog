1429.第一个唯一数字（中等）

[1429.第一个唯一数字（中等）](https://leetcode.cn/problems/first-unique-number/)



解法：哈希表



```go
type FirstUnique struct {
	p      int
	arr    []int
	idxMap map[int]int
}

func ConstructorFirstUnique(nums []int) FirstUnique {
	fu := FirstUnique{arr: make([]int, 0, len(nums)), idxMap: map[int]int{}}
	for _, num := range nums {
		fu.Add(num)
	}
	return fu
}

func (this *FirstUnique) ShowFirstUnique() int {
	if this.p == len(this.arr) {
		return -1
	}
	return this.arr[this.p]
}

func (this *FirstUnique) Add(value int) {
	if _, ok := this.idxMap[value]; !ok {
		this.idxMap[value] = len(this.arr)
	} else {
		this.idxMap[value] = -1
	}
	this.arr = append(this.arr, value)
	for this.p < len(this.arr) && this.idxMap[this.arr[this.p]] != this.p {
		this.p++
	}
}

```
